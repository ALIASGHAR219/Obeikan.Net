<section class="home-content">
  <ul class="breadcrumb">
    <li class="breadcrumb-item">
      <a class="breadcrumb-link" routerLink="/home">Home</a>
    </li>
    <li class="breadcrumb-item">
      <a class="breadcrumb-link" routerLink="/kpimanagement">KPI's Management</a>
    </li>
    <li class="breadcrumb-item">
      <a class="breadcrumb-link" routerLink="/kpireports">KPI's Reports</a>
    </li>
  </ul>
<mat-card>
  <form [formGroup]="yearlyScoreForm">
    <div style="padding:10px;background-color: #0F0FD1;">
      <div class="p-grid p-fluid">
        <div class="p-col-8">
          <mat-card-title style="color: white;">Yearly Scorecard</mat-card-title>
        </div>
        <div class="p-col-4">
          <p-dropdown [ngClass]="{
                    'is-invalid':
                    yearlyScoreForm.get('plant')?.errors &&
                    yearlyScoreForm.get('plant')?.touched
                  }" [options]="searchPlants" formControlName="plant" [filter]="true" placeholder="Select a plant"
            optionLabel="ptDesc" [showClear]="true" (onChange)="onPlantChange()">
          </p-dropdown>
          <p class="invalid-feedback" *ngIf="
                yearlyScoreForm.get('plant')?.touched &&
                yearlyScoreForm.get('plant')?.hasError('required')
                ">
            * please select plant
          </p>
        </div>
      </div>
    </div>
    <mat-card-content>
      <div class="p-grid p-fluid">
        <div class="p-col-12 p-md-6 p-lg-4">
          <label>From Date</label>
          <p-calendar [ngClass]="{
            'is-invalid':
            yearlyScoreForm.get('fromDate')?.errors &&
            yearlyScoreForm.get('fromDate')?.touched
          }" dateFormat="mm/yy" formControlName="fromDate" appendTo="body" [firstDayOfWeek]=0 view="month"
            [monthNavigator]="true" [yearNavigator]="true" yearRange="2015:2050" inputId="navigators">
          </p-calendar>
        </div>
        <div class="p-col-12 p-md-6 p-lg-4">
          <label>To Date</label>
          <p-calendar [ngClass]="{
            'is-invalid':
            yearlyScoreForm.get('toDate')?.errors &&
            yearlyScoreForm.get('toDate')?.touched
          }" dateFormat="mm/yy" formControlName="toDate" appendTo="body" [firstDayOfWeek]=0 view="month"
            [monthNavigator]="true" [yearNavigator]="true" yearRange="2015:2050" inputId="navigators">
          </p-calendar>
        </div>
        <div class="p-col-12 p-md-6 p-lg-4">
            <button mat-flat-button color="accent" type="submit" class="btn-accent" (click)="onDateChange($event)"   [disabled]="!yearlyScoreForm.valid"> Search </button>
        </div>
      </div>
      <ag-grid-angular style="width: 100%; height: 25vw" class="ag-theme-alpine" [rowData]="rowData"
        [columnDefs]="columnDefs">
      </ag-grid-angular>

    </mat-card-content>
  </form>
</mat-card>
</section>